<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de prueba</title>
</head>

<body>
    <h1>Formulario de creacion de producto</h1>
    <form method="post" enctype="multipart/form-data">
        <label for="title">Título:</label><br>
        <input type="text" id="title" name="title"><br>
        <label for="description">Descripción:</label><br>
        <textarea id="description" name="description"></textarea><br>
        <label for="price">Precio:</label><br>
        <input type="number" id="price" name="price" step="0.01"><br>
        <label for="discount_percentage">Porcentaje de Descuento:</label><br>
        <input type="number" id="discount_percentage" name="discount_percentage"><br>
        <label for="rating">Calificación:</label><br>
        <input type="number" id="rating" name="rating"><br>
        <label for="stock">Stock:</label><br>
        <input type="number" id="stock" name="stock"><br>
        <label for="brand">Marca:</label><br>
        <input type="text" id="brand" name="brand"><br>
        <label for="category">Categoría:</label><br>
        <input type="text" id="category" name="category"><br>
        <label for="images">Imágenes:</label><br>
        <input type="file" id="images" name="images" multiple><br>
        <input type="submit" value="Crear Producto">
      </form>
    <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', (event) => {
            event.preventDefault();
            const formData = new FormData(form);
            fetch('http://localhost:3000/api/products/', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                alert('Producto creado con éxito');
            })
            .catch(error => {
                console.error(error);
                alert('Error al crear el producto');
            })
        })
    </script>
    
</body>
</html>